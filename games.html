<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>à¹€à¸à¸¡à¸›à¸²à¸£à¹Œà¸•à¸µà¹‰ æ´¾å°éŠæˆ² - èŠ­é”é›…ä¹‹æ—… 2026</title>
  <meta name="description" content="èŠ­é”é›…æ—…éŠæ”»ç•¥ï¼Œæ”¯æ´é›¢ç·šç€è¦½ï¼">

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ff00ff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pattaya 2026">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">



  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Noto+Sans+Thai:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --neon-pink: #ff00ff;
      --neon-blue: #00ffff;
      --neon-purple: #bf00ff;
      --neon-orange: #ff6b35;
      --neon-green: #00ff88;
      --gold: #ffd700;
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-card: rgba(18, 18, 26, 0.9);
      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.8);
      --text-muted: rgba(255, 255, 255, 0.5);
      --safe-top: env(safe-area-inset-top, 20px);
      --safe-bottom: env(safe-area-inset-bottom, 20px);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Noto Sans TC', 'Noto Sans Thai', -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    .thai-text {
      font-family: 'Noto Sans Thai', sans-serif;
    }

    /* å‹•æ…‹èƒŒæ™¯ */
    .animated-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      background: linear-gradient(-45deg, #0a0a0f, #1a0a2e, #0a1a2e, #0a0a0f);
      background-size: 400% 400%;
      animation: gradient-shift 15s ease infinite;
    }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* é ‚éƒ¨å°èˆª */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(10, 10, 15, 0.95);
      backdrop-filter: blur(20px);
      padding: calc(var(--safe-top) + 12px) 20px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .back-btn {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .top-title {
      text-align: center;
    }

    .top-title-thai {
      font-size: 0.75rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    .top-title-cn {
      font-size: 1rem;
      font-weight: 700;
    }

    .top-spacer {
      width: 60px;
    }

    /* å…§å®¹å€ */
    .content {
      padding: calc(var(--safe-top) + 90px) 20px calc(var(--safe-bottom) + 40px);
      max-width: 500px;
      margin: 0 auto;
    }

    /* é é¢æ¨™é¡Œ */
    .page-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .page-title-thai {
      font-size: 1.2rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
      margin-bottom: 4px;
    }

    .page-title-cn {
      font-size: 2rem;
      font-weight: 900;
      text-shadow: 0 0 20px var(--neon-pink);
    }

    /* éŠæˆ²é¸æ“‡å€ */
    .games-menu {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .game-card {
      background: var(--bg-card);
      border-radius: 20px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .game-card:hover {
      border-color: var(--neon-pink);
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(255, 0, 255, 0.2);
    }

    .game-card:active {
      transform: scale(0.98);
    }

    .game-icon {
      font-size: 3rem;
      flex-shrink: 0;
    }

    .game-info {
      flex: 1;
    }

    .game-name-thai {
      font-size: 0.85rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    .game-name-cn {
      font-size: 1.2rem;
      font-weight: 900;
      margin-bottom: 4px;
    }

    .game-desc {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .game-arrow {
      font-size: 1.5rem;
      color: var(--text-muted);
    }

    /* éŠæˆ²å€åŸŸ */
    .game-area {
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .game-area.active {
      display: flex;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* éŠæˆ²ä»‹ç´¹å€ */
    .game-intro {
      background: var(--bg-card);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 24px;
      border-left: 4px solid var(--neon-pink);
      text-align: left;
      width: 100%;
    }

    .game-intro-title {
      font-size: 1.5rem;
      font-weight: 900;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .game-intro-title-thai {
      font-size: 1rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
      margin-bottom: 16px;
    }

    .game-intro-text {
      font-size: 0.95rem;
      line-height: 1.8;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .game-intro-text-thai {
      font-size: 0.9rem;
      line-height: 1.8;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    .game-header {
      margin-bottom: 24px;
    }

    .game-title-thai {
      font-size: 1rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
      margin-bottom: 4px;
    }

    .game-title-cn {
      font-size: 2rem;
      font-weight: 900;
      text-shadow: 0 0 20px var(--neon-pink);
    }

    /* é€šç”¨æŒ‰éˆ• */
    .btn {
      padding: 16px 40px;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: 700;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--neon-pink), var(--neon-purple));
      color: white;
      box-shadow: 0 4px 20px rgba(255, 0, 255, 0.4);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(255, 0, 255, 0.6);
    }

    .btn-secondary {
      background: var(--bg-card);
      color: var(--text-primary);
      border: 2px solid var(--text-muted);
    }

    .btn:active {
      transform: scale(0.95);
    }

    .btn-thai {
      font-size: 0.8rem;
      color: var(--gold);
      display: block;
      font-family: 'Noto Sans Thai', sans-serif;
    }

    /* ==================== éŠæˆ²1: Hi-Lo éª°å­ ==================== */
    .dice-container {
      display: flex;
      gap: 20px;
      margin: 32px 0;
    }

    .dice {
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: #1a1a2e;
      font-weight: 900;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      transition: transform 0.3s ease;
    }

    .dice.rolling {
      animation: dice-roll 0.1s linear infinite;
    }

    @keyframes dice-roll {
      0% { transform: rotate(0deg) scale(1); }
      25% { transform: rotate(90deg) scale(1.1); }
      50% { transform: rotate(180deg) scale(1); }
      75% { transform: rotate(270deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }

    .choice-btns {
      display: flex;
      gap: 16px;
      margin: 24px 0;
      width: 100%;
    }

    .choice-btn {
      flex: 1;
      padding: 24px 16px;
      border-radius: 16px;
      font-size: 1.3rem;
      font-weight: 700;
      border: 3px solid transparent;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .choice-btn.hi {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
    }

    .choice-btn.lo {
      background: linear-gradient(135deg, #00b894, #00cec9);
      color: white;
    }

    .choice-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }

    .choice-btn.selected {
      border-color: white;
      box-shadow: 0 0 30px currentColor;
    }

    .choice-thai {
      font-size: 0.9rem;
      font-family: 'Noto Sans Thai', sans-serif;
      opacity: 0.9;
      display: block;
      margin-top: 4px;
    }

    .result-display {
      font-size: 1.5rem;
      font-weight: 900;
      margin: 24px 0;
      min-height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      border-radius: 16px;
      background: var(--bg-card);
      width: 100%;
    }

    .result-display.win {
      color: var(--neon-green);
      text-shadow: 0 0 20px var(--neon-green);
      animation: pulse 0.5s ease;
      border: 2px solid var(--neon-green);
    }

    .result-display.lose {
      color: #ff6b6b;
      text-shadow: 0 0 20px #ff6b6b;
      border: 2px solid #ff6b6b;
    }

    .result-thai {
      font-size: 1rem;
      font-family: 'Noto Sans Thai', sans-serif;
      margin-top: 8px;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* ==================== éŠæˆ²2: å°„é¾é–€ ==================== */
    .dragon-gate {
      width: 100%;
      margin: 24px 0;
    }

    .cards-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      margin: 24px 0;
    }

    .card {
      width: 80px;
      height: 120px;
      background: linear-gradient(135deg, #1a1a2e, #2d2d44);
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      font-weight: 900;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      border: 3px solid rgba(255,255,255,0.2);
      transition: all 0.3s ease;
      position: relative;
    }

    .card.red {
      color: #e74c3c;
    }

    .card.black {
      color: #2c3e50;
      background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
    }

    .card.hidden {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: transparent;
    }

    .card.hidden::after {
      content: '?';
      color: white;
      font-size: 3rem;
    }

    .card-suit {
      font-size: 1rem;
      margin-top: 4px;
    }

    .gate-indicator {
      font-size: 2rem;
      color: var(--gold);
    }

    .dragon-btns {
      display: flex;
      gap: 12px;
      margin: 24px 0;
      width: 100%;
    }

    .dragon-btn {
      flex: 1;
      padding: 20px 16px;
      border-radius: 16px;
      font-size: 1.1rem;
      font-weight: 700;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .dragon-btn.in {
      background: linear-gradient(135deg, #00b894, #00cec9);
      color: white;
    }

    .dragon-btn.out {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
    }

    .dragon-btn.hit {
      background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
      color: white;
    }

    .dragon-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }

    .dragon-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .dragon-btn-thai {
      font-size: 0.8rem;
      font-family: 'Noto Sans Thai', sans-serif;
      display: block;
      margin-top: 4px;
      opacity: 0.9;
    }

    /* ==================== éŠæˆ²4: åæ‡‰åŠ›æŒ‘æˆ° ==================== */
    .reaction-area {
      width: 100%;
      aspect-ratio: 1;
      max-width: 320px;
      background: var(--bg-card);
      border-radius: 24px;
      margin: 24px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: var(--text-muted);
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .reaction-area .thai {
      font-size: 1rem;
      font-family: 'Noto Sans Thai', sans-serif;
      color: var(--gold);
      margin-top: 8px;
    }

    .reaction-area.waiting {
      background: #ff6b6b;
      color: white;
    }

    .reaction-area.ready {
      background: var(--neon-green);
      cursor: pointer;
    }

    .reaction-area.ready::after {
      content: 'é»æˆ‘ï¼à¸à¸”à¹€à¸¥à¸¢!';
      font-size: 2rem;
      font-weight: 900;
      color: #1a1a2e;
    }

    .reaction-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin: 24px 0;
      width: 100%;
    }

    .reaction-stat {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
    }

    .reaction-stat-value {
      font-size: 1.5rem;
      font-weight: 900;
      color: var(--neon-blue);
    }

    .reaction-stat-label {
      font-size: 0.7rem;
      color: var(--text-muted);
    }

    .reaction-stat-thai {
      font-size: 0.65rem;
      color: var(--gold);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    /* è¿”å›æŒ‰éˆ• */
    .back-to-menu {
      margin-top: 32px;
      padding: 12px 32px;
      background: transparent;
      border: 2px solid var(--text-muted);
      border-radius: 25px;
      color: var(--text-muted);
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .back-to-menu:hover {
      border-color: var(--neon-blue);
      color: var(--neon-blue);
    }
  </style>
</head>
<body>
  <div class="animated-bg"></div>

  <!-- é ‚éƒ¨å°èˆª -->
  <nav class="top-nav">
    <a href="night.html" class="back-btn">â† à¸à¸¥à¸±à¸š è¿”å›</a>
    <div class="top-title">
      <div class="top-title-thai">à¹€à¸à¸¡à¸›à¸²à¸£à¹Œà¸•à¸µà¹‰</div>
      <div class="top-title-cn">æ´¾å°éŠæˆ²</div>
    </div>
    <div class="top-spacer"></div>
  </nav>

  <div class="content">

    <!-- éŠæˆ²é¸å–® -->
    <div id="gamesMenu" class="games-menu">
      <div class="page-header">
        <div class="page-title-thai">à¹€à¸¥à¸·à¸­à¸à¹€à¸à¸¡</div>
        <div class="page-title-cn">ğŸ® é¸æ“‡éŠæˆ²</div>
      </div>

      <div class="game-card" onclick="startGame('hilo')">
        <span class="game-icon">ğŸ²</span>
        <div class="game-info">
          <div class="game-name-thai">à¹„à¸®-à¹‚à¸¥</div>
          <div class="game-name-cn">Hi-Lo éª°å­</div>
          <div class="game-desc">çŒœå¤§å°ï¼Œè¼¸äº†å–ä¸€æ¯ï¼</div>
        </div>
        <span class="game-arrow">â†’</span>
      </div>

      <div class="game-card" onclick="startGame('dragon')">
        <span class="game-icon">ğŸ‰</span>
        <div class="game-info">
          <div class="game-name-thai">à¸¢à¸´à¸‡à¸¡à¸±à¸‡à¸à¸£</div>
          <div class="game-name-cn">å°„é¾é–€</div>
          <div class="game-desc">çŒœä¸­é–“çš„ç‰Œï¼Œéé—œæˆ–å–é…’ï¼</div>
        </div>
        <span class="game-arrow">â†’</span>
      </div>

      <div class="game-card" onclick="startGame('reaction')">
        <span class="game-icon">âš¡</span>
        <div class="game-info">
          <div class="game-name-thai">à¸—à¸”à¸ªà¸­à¸šà¸›à¸à¸´à¸à¸´à¸£à¸´à¸¢à¸²</div>
          <div class="game-name-cn">åæ‡‰åŠ›æŒ‘æˆ°</div>
          <div class="game-desc">æ¸¬è©¦åæ‡‰é€Ÿåº¦ï¼à¹€à¸¡à¸²à¹à¸¥à¹‰à¸§à¸¢à¸²à¸à¸‚à¸¶à¹‰à¸™ å–äº†æ›´åˆºæ¿€</div>
        </div>
        <span class="game-arrow">â†’</span>
      </div>

      <a href="truth-or-dare.html" class="game-card" style="text-decoration: none;">
        <span class="game-icon">ğŸ’¬</span>
        <div class="game-info">
          <div class="game-name-thai">à¸„à¸§à¸²à¸¡à¸ˆà¸£à¸´à¸‡à¸«à¸£à¸·à¸­à¸—à¹‰à¸²</div>
          <div class="game-name-cn">çœŸå¿ƒè©±å¤§å†’éšª</div>
          <div class="game-desc">æš–èº«ç‰ˆ + å¤œç”Ÿæ´»ç‰ˆ | ä¸‰èªç‰ˆæœ¬</div>
        </div>
        <span class="game-arrow">â†’</span>
      </a>
    </div>

    <!-- éŠæˆ²1: Hi-Lo éª°å­ -->
    <div id="hiloGame" class="game-area">
      <div class="game-intro">
        <div class="game-intro-title">ğŸ² Hi-Lo éª°å­</div>
        <div class="game-intro-title-thai">à¹„à¸®-à¹‚à¸¥ à¸¥à¸¹à¸à¹€à¸•à¹‹à¸²</div>
        <div class="game-intro-text">
          ç¶“å…¸æ³°åœ‹é…’å§éŠæˆ²ï¼æ–å…©é¡†éª°å­ï¼ŒçŒœç¸½å’Œæ˜¯ã€Œå¤§ã€é‚„æ˜¯ã€Œå°ã€ã€‚<br>
          â€¢ å¤§ (à¹ƒà¸«à¸à¹ˆ)ï¼šç¸½å’Œ 8-12<br>
          â€¢ å° (à¹€à¸¥à¹‡à¸)ï¼šç¸½å’Œ 2-6<br>
          â€¢ ç¸½å’Œ 7 = å¹³æ‰‹é‡ä¾†<br>
          â€¢ çŒœéŒ¯å°±å–ä¸€æ¯ï¼ğŸº
        </div>
        <div class="game-intro-text-thai">
          à¹€à¸à¸¡à¸„à¸¥à¸²à¸ªà¸ªà¸´à¸à¸‚à¸­à¸‡à¸šà¸²à¸£à¹Œà¹„à¸—à¸¢! à¹‚à¸¢à¸™à¸¥à¸¹à¸à¹€à¸•à¹‹à¸²à¸ªà¸­à¸‡à¸¥à¸¹à¸ à¸—à¸²à¸¢à¸§à¹ˆà¸²à¸œà¸¥à¸£à¸§à¸¡à¸ˆà¸° "à¹ƒà¸«à¸à¹ˆ" à¸«à¸£à¸·à¸­ "à¹€à¸¥à¹‡à¸"<br>
          à¹ƒà¸«à¸à¹ˆ: à¸œà¸¥à¸£à¸§à¸¡ 8-12 | à¹€à¸¥à¹‡à¸: à¸œà¸¥à¸£à¸§à¸¡ 2-6 | à¸œà¸¥à¸£à¸§à¸¡ 7 = à¹€à¸ªà¸¡à¸­<br>
          à¸—à¸²à¸¢à¸œà¸´à¸”à¸•à¹‰à¸­à¸‡à¸”à¸·à¹ˆà¸¡! ğŸº
        </div>
      </div>

      <div class="dice-container">
        <div class="dice" id="dice1">?</div>
        <div class="dice" id="dice2">?</div>
      </div>

      <div class="choice-btns">
        <button class="choice-btn hi" id="hiBtn" onclick="selectChoice('hi')">
          å¤§ 8-12
          <span class="choice-thai">à¹ƒà¸«à¸à¹ˆ</span>
        </button>
        <button class="choice-btn lo" id="loBtn" onclick="selectChoice('lo')">
          å° 2-6
          <span class="choice-thai">à¹€à¸¥à¹‡à¸</span>
        </button>
      </div>

      <button class="btn btn-primary" id="rollBtn" onclick="rollDice()">
        <span class="btn-thai">à¹‚à¸¢à¸™à¸¥à¸¹à¸à¹€à¸•à¹‹à¸²!</span>
        ğŸ² æ–éª°å­ï¼
      </button>

      <div class="result-display" id="hiloResult">
        <span style="color: var(--text-muted)">å…ˆé¸å¤§æˆ–å°ï¼Œå†æ–éª°å­</span>
        <span class="result-thai">à¹€à¸¥à¸·à¸­à¸à¹ƒà¸«à¸à¹ˆà¸«à¸£à¸·à¸­à¹€à¸¥à¹‡à¸à¸à¹ˆà¸­à¸™ à¹à¸¥à¹‰à¸§à¹‚à¸¢à¸™</span>
      </div>

      <button class="back-to-menu" onclick="backToMenu()">â† à¸à¸¥à¸±à¸š è¿”å›é¸å–®</button>
    </div>

    <!-- éŠæˆ²2: å°„é¾é–€ -->
    <div id="dragonGame" class="game-area">
      <div class="game-intro">
        <div class="game-intro-title" id="dragonTitle" onclick="handleCheatClick()">ğŸ‰ å°„é¾é–€</div>
        <div class="game-intro-title-thai">à¸¢à¸´à¸‡à¸¡à¸±à¸‡à¸à¸£ (In-Between)</div>
        <div class="game-intro-text">
          ç¶“å…¸å–é…’éŠæˆ²ï¼å…ˆç¿»é–‹å·¦å³å…©å¼µç‰Œç•¶ä½œã€Œé¾é–€ã€ã€‚<br>
          ç„¶å¾ŒçŒœä¸­é–“é‚£å¼µç‰Œçš„æ•¸å­—ï¼š<br>
          â€¢ åœ¨è£¡é¢ (à¹ƒà¸™à¸›à¸£à¸°à¸•à¸¹)ï¼šæ•¸å­—ä»‹æ–¼å…©å¼µç‰Œä¹‹é–“ â†’ éé—œï¼âœ…<br>
          â€¢ åœ¨å¤–é¢ (à¸™à¸­à¸à¸›à¸£à¸°à¸•à¸¹)ï¼šæ•¸å­—åœ¨ç¯„åœå¤– â†’ éé—œï¼âœ…<br>
          çŒœéŒ¯å°±å–ä¸€æ¯ï¼ğŸº
        </div>
        <div class="game-intro-text-thai">
          à¹€à¸à¸¡à¸”à¸·à¹ˆà¸¡à¸„à¸¥à¸²à¸ªà¸ªà¸´à¸! à¹€à¸›à¸´à¸”à¹„à¸à¹ˆà¸‹à¹‰à¸²à¸¢à¸‚à¸§à¸²à¹€à¸›à¹‡à¸™ "à¸›à¸£à¸°à¸•à¸¹"<br>
          à¹à¸¥à¹‰à¸§à¸—à¸²à¸¢à¹„à¸à¹ˆà¸•à¸£à¸‡à¸à¸¥à¸²à¸‡:<br>
          â€¢ à¹ƒà¸™à¸›à¸£à¸°à¸•à¸¹: à¸•à¸±à¸§à¹€à¸¥à¸‚à¸­à¸¢à¸¹à¹ˆà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¹„à¸à¹ˆà¸ªà¸­à¸‡à¹ƒà¸š â†’ à¸œà¹ˆà¸²à¸™! âœ…<br>
          â€¢ à¸™à¸­à¸à¸›à¸£à¸°à¸•à¸¹: à¸•à¸±à¸§à¹€à¸¥à¸‚à¸­à¸¢à¸¹à¹ˆà¸™à¸­à¸à¸Šà¹ˆà¸§à¸‡ â†’ à¸œà¹ˆà¸²à¸™! âœ…<br>
          à¸—à¸²à¸¢à¸œà¸´à¸”à¸•à¹‰à¸­à¸‡à¸”à¸·à¹ˆà¸¡! ğŸº
        </div>
      </div>

      <div class="dragon-gate">
        <!-- ç™¼æ–°ç‰ŒæŒ‰éˆ•æ”¾æœ€ä¸Šé¢ -->
        <button class="btn btn-primary btn-large" id="dealBtn" onclick="dealCards()" style="margin-bottom: 20px; padding: 20px 60px; font-size: 1.3rem;">
          ğŸƒ é»æˆ‘ç™¼ç‰Œé–‹å§‹ï¼
          <span class="btn-thai" style="display: block; margin-top: 4px;">à¹à¸•à¸°à¹€à¸à¸·à¹ˆà¸­à¹à¸ˆà¸à¹„à¸à¹ˆ!</span>
        </button>

        <div class="cards-display">
          <div class="card" id="card1">
            <span id="card1Value">?</span>
            <span class="card-suit" id="card1Suit"></span>
          </div>
          <div class="gate-indicator">ğŸšª</div>
          <div class="card hidden" id="card2">
            <span id="card2Value">?</span>
            <span class="card-suit" id="card2Suit"></span>
          </div>
          <div class="gate-indicator">ğŸšª</div>
          <div class="card" id="card3">
            <span id="card3Value">?</span>
            <span class="card-suit" id="card3Suit"></span>
          </div>
        </div>

        <div class="dragon-btns" id="dragonBtns">
          <button class="dragon-btn in" onclick="guessDragon('in')" id="dragonInBtn">
            åœ¨è£¡é¢
            <span class="dragon-btn-thai">à¹ƒà¸™à¸›à¸£à¸°à¸•à¸¹</span>
          </button>
          <button class="dragon-btn out" onclick="guessDragon('out')" id="dragonOutBtn">
            åœ¨å¤–é¢
            <span class="dragon-btn-thai">à¸™à¸­à¸à¸›à¸£à¸°à¸•à¸¹</span>
          </button>
        </div>

        <div class="result-display" id="dragonResult">
          <span style="color: var(--text-muted)">ğŸ‘† é»ä¸Šæ–¹æŒ‰éˆ•é–‹å§‹éŠæˆ²</span>
          <span class="result-thai">ğŸ‘† à¹à¸•à¸°à¸›à¸¸à¹ˆà¸¡à¸”à¹‰à¸²à¸™à¸šà¸™à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸à¸¡</span>
        </div>
      </div>

      <button class="back-to-menu" onclick="backToMenu()">â† à¸à¸¥à¸±à¸š è¿”å›é¸å–®</button>
    </div>

    <!-- éŠæˆ²4: åæ‡‰åŠ›æŒ‘æˆ° -->
    <div id="reactionGame" class="game-area">
      <div class="game-intro">
        <div class="game-intro-title">âš¡ åæ‡‰åŠ›æŒ‘æˆ°</div>
        <div class="game-intro-title-thai">à¸—à¸”à¸ªà¸­à¸šà¸›à¸à¸´à¸à¸´à¸£à¸´à¸¢à¸²</div>
        <div class="game-intro-text">
          æ¸¬è©¦ä½ çš„åæ‡‰é€Ÿåº¦ï¼é»æ“Šé–‹å§‹å¾Œï¼Œç­‰å¾…ç•«é¢è®Šç¶ è‰²ã€‚<br>
          ç¶ è‰²å‡ºç¾çš„ç¬é–“ç«‹åˆ»é»æ“Šï¼<br>
          â€¢ 200ms ä»¥ä¸‹ = è¶…ç¥ï¼ğŸ”¥<br>
          â€¢ 200-300ms = å¾ˆå¿«ï¼âš¡<br>
          â€¢ 300-400ms = é‚„ä¸éŒ¯ ğŸ‘<br>
          â€¢ 400ms ä»¥ä¸Š = æ˜¯ä¸æ˜¯å–å¤ªå¤šäº†ï¼ŸğŸº
        </div>
        <div class="game-intro-text-thai">
          à¸—à¸”à¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§à¹ƒà¸™à¸à¸²à¸£à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡! à¸à¸”à¹€à¸£à¸´à¹ˆà¸¡à¹à¸¥à¹‰à¸§à¸£à¸­à¸«à¸™à¹‰à¸²à¸ˆà¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™à¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§<br>
          à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸«à¹‡à¸™à¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§ à¸à¸”à¸—à¸±à¸™à¸—à¸µ!<br>
          à¸•à¹ˆà¸³à¸à¸§à¹ˆà¸² 200ms = à¹€à¸—à¸à¸¡à¸²à¸! ğŸ”¥ | 200-300ms = à¹€à¸£à¹‡à¸§à¸¡à¸²à¸! âš¡<br>
          300-400ms = à¸”à¸µà¹€à¸¥à¸¢ ğŸ‘ | à¸¡à¸²à¸à¸à¸§à¹ˆà¸² 400ms = à¹€à¸¡à¸²à¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¹ˆà¸²? ğŸº
        </div>
      </div>

      <div class="reaction-stats">
        <div class="reaction-stat">
          <div class="reaction-stat-value" id="reactionBest">--</div>
          <div class="reaction-stat-thai">à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”</div>
          <div class="reaction-stat-label">æœ€ä½³ç´€éŒ„</div>
        </div>
        <div class="reaction-stat">
          <div class="reaction-stat-value" id="reactionLast">--</div>
          <div class="reaction-stat-thai">à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”</div>
          <div class="reaction-stat-label">ä¸Šæ¬¡æˆç¸¾</div>
        </div>
        <div class="reaction-stat">
          <div class="reaction-stat-value" id="reactionTries">0</div>
          <div class="reaction-stat-thai">à¸ˆà¸³à¸™à¸§à¸™à¸„à¸£à¸±à¹‰à¸‡</div>
          <div class="reaction-stat-label">å˜—è©¦æ¬¡æ•¸</div>
        </div>
      </div>

      <div class="reaction-area" id="reactionArea" onclick="handleReactionClick()">
        à¸à¸”à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡<br>é»æ“Šé–‹å§‹
        <div class="thai">à¹à¸•à¸°à¸—à¸µà¹ˆà¸™à¸µà¹ˆ</div>
      </div>

      <button class="back-to-menu" onclick="backToMenu()">â† à¸à¸¥à¸±à¸š è¿”å›é¸å–®</button>
    </div>

  </div>

  <script>
    // ==================== é€šç”¨åŠŸèƒ½ ====================
    function startGame(gameId) {
      document.getElementById('gamesMenu').style.display = 'none';
      document.querySelectorAll('.game-area').forEach(g => g.classList.remove('active'));
      document.getElementById(gameId + 'Game').classList.add('active');

      if (gameId === 'dragon') initDragon();
    }

    function backToMenu() {
      document.querySelectorAll('.game-area').forEach(g => g.classList.remove('active'));
      document.getElementById('gamesMenu').style.display = 'flex';
    }

    // ==================== éŠæˆ²1: Hi-Lo éª°å­ ====================
    let selectedChoice = null;

    function selectChoice(choice) {
      selectedChoice = choice;
      document.getElementById('hiBtn').classList.toggle('selected', choice === 'hi');
      document.getElementById('loBtn').classList.toggle('selected', choice === 'lo');
    }

    function rollDice() {
      if (!selectedChoice) {
        alert('à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸à¹ˆà¸­à¸™! è«‹å…ˆé¸æ“‡å¤§æˆ–å°ï¼');
        return;
      }

      const dice1El = document.getElementById('dice1');
      const dice2El = document.getElementById('dice2');
      const resultEl = document.getElementById('hiloResult');

      dice1El.classList.add('rolling');
      dice2El.classList.add('rolling');
      dice1El.textContent = '?';
      dice2El.textContent = '?';
      resultEl.innerHTML = '<span style="color: var(--text-muted)">æ–éª°å­ä¸­...</span><span class="result-thai">à¸à¸³à¸¥à¸±à¸‡à¹‚à¸¢à¸™...</span>';
      resultEl.className = 'result-display';

      document.getElementById('rollBtn').disabled = true;

      setTimeout(() => {
        const d1 = Math.floor(Math.random() * 6) + 1;
        const d2 = Math.floor(Math.random() * 6) + 1;
        const total = d1 + d2;

        dice1El.classList.remove('rolling');
        dice2El.classList.remove('rolling');
        dice1El.textContent = d1;
        dice2El.textContent = d2;

        let result;
        if (total === 7) {
          resultEl.innerHTML = `ğŸ² ç¸½å’Œ ${total}<br>å¹³æ‰‹ï¼é‡ä¾†ä¸€å±€<div class="result-thai">à¹€à¸ªà¸¡à¸­! à¹€à¸¥à¹ˆà¸™à¹ƒà¸«à¸¡à¹ˆ</div>`;
          resultEl.className = 'result-display';
        } else if ((total >= 8 && selectedChoice === 'hi') || (total <= 6 && selectedChoice === 'lo')) {
          resultEl.innerHTML = `ğŸ² ç¸½å’Œ ${total}<br>ğŸ‰ ä½ è´äº†ï¼éé—œï¼<div class="result-thai">à¸„à¸¸à¸“à¸Šà¸™à¸°! à¸œà¹ˆà¸²à¸™!</div>`;
          resultEl.className = 'result-display win';
        } else {
          resultEl.innerHTML = `ğŸ² ç¸½å’Œ ${total}<br>ğŸ˜… çŒœéŒ¯äº†ï¼å–ä¸€æ¯ï¼<div class="result-thai">à¸œà¸´à¸”! à¸”à¸·à¹ˆà¸¡à¸«à¸™à¸¶à¹ˆà¸‡à¹à¸à¹‰à¸§!</div>`;
          resultEl.className = 'result-display lose';
        }

        document.getElementById('rollBtn').disabled = false;
        selectedChoice = null;
        document.getElementById('hiBtn').classList.remove('selected');
        document.getElementById('loBtn').classList.remove('selected');
      }, 1500);
    }

    // ==================== éŠæˆ²2: å°„é¾é–€ ====================
    const cardValues = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
    const suits = ['â™ ', 'â™¥', 'â™¦', 'â™£'];
    let card1Val, card2Val, card3Val;
    let gamePhase = 'deal'; // 'deal', 'guess', 'result'

    function getCardNumber(val) {
      if (val === 'A') return 1;
      if (val === 'J') return 11;
      if (val === 'Q') return 12;
      if (val === 'K') return 13;
      return parseInt(val);
    }

    function initDragon() {
      document.getElementById('card1').className = 'card';
      document.getElementById('card1Value').textContent = '?';
      document.getElementById('card1Suit').textContent = '';
      document.getElementById('card2').className = 'card hidden';
      document.getElementById('card2Value').textContent = '?';
      document.getElementById('card2Suit').textContent = '';
      document.getElementById('card3').className = 'card';
      document.getElementById('card3Value').textContent = '?';
      document.getElementById('card3Suit').textContent = '';
      document.getElementById('dragonResult').innerHTML = '<span style="color: var(--text-muted)">ğŸ‘† é»ä¸Šæ–¹æŒ‰éˆ•é–‹å§‹éŠæˆ²</span><span class="result-thai">ğŸ‘† à¹à¸•à¸°à¸›à¸¸à¹ˆà¸¡à¸”à¹‰à¸²à¸™à¸šà¸™à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸à¸¡</span>';
      document.getElementById('dragonResult').className = 'result-display';
      document.getElementById('dealBtn').innerHTML = 'ğŸƒ é»æˆ‘ç™¼ç‰Œé–‹å§‹ï¼<span class="btn-thai" style="display: block; margin-top: 4px;">à¹à¸•à¸°à¹€à¸à¸·à¹ˆà¸­à¹à¸ˆà¸à¹„à¸à¹ˆ!</span>';
      setDragonBtnsDisabled(true);
      gamePhase = 'deal';
    }

    function setDragonBtnsDisabled(disabled) {
      document.getElementById('dragonInBtn').disabled = disabled;
      document.getElementById('dragonOutBtn').disabled = disabled;
    }

    // ä½œå¼Šæ©Ÿåˆ¶
    let cheatMode = false;
    let cheatClickCount = 0;
    let cheatClickTimer = null;

    function handleCheatClick() {
      cheatClickCount++;

      // é‡ç½®è¨ˆæ™‚å™¨ï¼ˆ1.5ç§’å…§è¦é€£é»3æ¬¡ï¼‰
      if (cheatClickTimer) clearTimeout(cheatClickTimer);
      cheatClickTimer = setTimeout(() => {
        cheatClickCount = 0;
      }, 1500);

      if (cheatClickCount >= 3) {
        cheatClickCount = 0;
        cheatMode = !cheatMode;

        const titleEl = document.getElementById('dragonTitle');

        if (cheatMode) {
          // å•Ÿå‹•ä½œå¼Šæ¨¡å¼
          titleEl.style.color = 'var(--gold)';
          titleEl.style.textShadow = '0 0 20px var(--gold)';
          // éœ‡å‹•æç¤ºï¼ˆå¦‚æœæ”¯æ´ï¼‰
          if (navigator.vibrate) {
            navigator.vibrate([100, 50, 100]);
          }
        } else {
          // é—œé–‰ä½œå¼Šæ¨¡å¼
          titleEl.style.color = '';
          titleEl.style.textShadow = '';
          if (navigator.vibrate) {
            navigator.vibrate(50);
          }
        }
      }
    }

    function dealCards() {
      // ç™¼ä¸‰å¼µç‰Œ
      card1Val = cardValues[Math.floor(Math.random() * cardValues.length)];
      card2Val = cardValues[Math.floor(Math.random() * cardValues.length)];
      card3Val = cardValues[Math.floor(Math.random() * cardValues.length)];

      const suit1 = suits[Math.floor(Math.random() * suits.length)];
      const suit2 = suits[Math.floor(Math.random() * suits.length)];
      const suit3 = suits[Math.floor(Math.random() * suits.length)];

      // é¡¯ç¤ºå·¦å³å…©å¼µç‰Œ
      const card1El = document.getElementById('card1');
      const card3El = document.getElementById('card3');

      card1El.className = 'card ' + (suit1 === 'â™¥' || suit1 === 'â™¦' ? 'red' : 'black');
      document.getElementById('card1Value').textContent = card1Val;
      document.getElementById('card1Suit').textContent = suit1;

      card3El.className = 'card ' + (suit3 === 'â™¥' || suit3 === 'â™¦' ? 'red' : 'black');
      document.getElementById('card3Value').textContent = card3Val;
      document.getElementById('card3Suit').textContent = suit3;

      // ä¸­é–“ç‰Œä¿æŒéš±è—
      document.getElementById('card2').className = 'card hidden';
      document.getElementById('card2Value').textContent = card2Val;
      document.getElementById('card2Suit').textContent = suit2;

      // è¨ˆç®—ç¯„åœ
      const num1 = getCardNumber(card1Val);
      const num3 = getCardNumber(card3Val);
      const min = Math.min(num1, num3);
      const max = Math.max(num1, num3);

      document.getElementById('dragonResult').innerHTML = `
        <span>é¾é–€ç¯„åœï¼š${min} - ${max}</span>
        <span class="result-thai">à¸Šà¹ˆà¸§à¸‡à¸›à¸£à¸°à¸•à¸¹: ${min} - ${max}</span>
        <span style="color: var(--text-muted); font-size: 0.9rem; margin-top: 8px;">è«‹çŒœä¸­é–“çš„ç‰Œï¼à¸—à¸²à¸¢à¹„à¸à¹ˆà¸•à¸£à¸‡à¸à¸¥à¸²à¸‡!</span>
      `;
      document.getElementById('dragonResult').className = 'result-display';

      setDragonBtnsDisabled(false);
      gamePhase = 'guess';

      // æ›´æ–°æŒ‰éˆ•æ–‡å­—
      document.getElementById('dealBtn').innerHTML = 'ğŸ”„ å†ç™¼ä¸€æ¬¡<span class="btn-thai" style="display: block; margin-top: 4px;">à¹à¸ˆà¸à¹ƒà¸«à¸¡à¹ˆ</span>';
    }

    function guessDragon(guess) {
      if (gamePhase !== 'guess') return;

      const num1 = getCardNumber(card1Val);
      let num2 = getCardNumber(card2Val);
      const num3 = getCardNumber(card3Val);
      const min = Math.min(num1, num3);
      const max = Math.max(num1, num3);

      // ä½œå¼Šæ¨¡å¼ï¼šå·å·æ”¹ä¸­é–“ç‰Œè®“ç©å®¶è´
      if (cheatMode) {
        if (guess === 'in') {
          // ç©å®¶é¸ã€Œåœ¨è£¡é¢ã€ï¼šæŠŠä¸­é–“ç‰Œæ”¹æˆç¯„åœå…§çš„æ•¸å­—
          if (max - min > 1) {
            // æœ‰ç©ºé–“å¯ä»¥æ”¾ç‰Œ
            num2 = min + 1 + Math.floor(Math.random() * (max - min - 1));
          }
          // å¦‚æœ max - min <= 1ï¼ˆä¾‹å¦‚ 5 å’Œ 6ï¼‰ï¼Œç„¡æ³•ä½œå¼Šï¼Œç¶­æŒåŸç‰Œ
        } else if (guess === 'out') {
          // ç©å®¶é¸ã€Œåœ¨å¤–é¢ã€ï¼šæŠŠä¸­é–“ç‰Œæ”¹æˆç¯„åœå¤–çš„æ•¸å­—
          // éš¨æ©Ÿé¸æ“‡æ¯” min å°æˆ–æ¯” max å¤§
          if (Math.random() < 0.5 && min > 1) {
            num2 = Math.floor(Math.random() * (min - 1)) + 1;
          } else if (max < 13) {
            num2 = max + 1 + Math.floor(Math.random() * (13 - max));
          } else if (min > 1) {
            num2 = Math.floor(Math.random() * (min - 1)) + 1;
          }
          // å¦‚æœç„¡æ³•ä½œå¼Šï¼ˆmin=1 ä¸” max=13ï¼‰ï¼Œç¶­æŒåŸç‰Œ
        }

        // æ›´æ–° card2Val ä»¥ç¬¦åˆä½œå¼Šå¾Œçš„æ•¸å­—
        const valueMap = {1: 'A', 11: 'J', 12: 'Q', 13: 'K'};
        card2Val = valueMap[num2] || num2.toString();
        document.getElementById('card2Value').textContent = card2Val;
      }

      // æ­ç¤ºä¸­é–“çš„ç‰Œ
      const suit2 = document.getElementById('card2Suit').textContent;
      const card2El = document.getElementById('card2');
      card2El.className = 'card ' + (suit2 === 'â™¥' || suit2 === 'â™¦' ? 'red' : 'black');

      // åˆ¤æ–·çµæœ
      const isIn = (num2 > min && num2 < max); // åœ¨è£¡é¢
      const isOut = (num2 < min || num2 > max || num2 === num1 || num2 === num3); // åœ¨å¤–é¢ï¼ˆåŒ…å«æ’æŸ±ï¼‰

      let win = false;
      let resultText = '';
      let resultThai = '';

      if (guess === 'in') {
        if (isIn) {
          win = true;
          resultText = `âœ… ${card2Val} åœ¨è£¡é¢ï¼éé—œï¼`;
          resultThai = `${card2Val} à¹ƒà¸™à¸›à¸£à¸°à¸•à¸¹! à¸œà¹ˆà¸²à¸™!`;
        } else {
          resultText = `âŒ ${card2Val} ä¸åœ¨ç¯„åœå…§ï¼ŒçŒœéŒ¯ï¼å–ä¸€æ¯`;
          resultThai = `${card2Val} à¹„à¸¡à¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸Šà¹ˆà¸§à¸‡ à¸œà¸´à¸”! à¸”à¸·à¹ˆà¸¡à¸«à¸™à¸¶à¹ˆà¸‡à¹à¸à¹‰à¸§`;
        }
      } else if (guess === 'out') {
        if (isOut) {
          win = true;
          resultText = `âœ… ${card2Val} åœ¨å¤–é¢ï¼éé—œï¼`;
          resultThai = `${card2Val} à¸™à¸­à¸à¸›à¸£à¸°à¸•à¸¹! à¸œà¹ˆà¸²à¸™!`;
        } else {
          resultText = `âŒ ${card2Val} åœ¨è£¡é¢ï¼ŒçŒœéŒ¯ï¼å–ä¸€æ¯`;
          resultThai = `${card2Val} à¹ƒà¸™à¸›à¸£à¸°à¸•à¸¹ à¸œà¸´à¸”! à¸”à¸·à¹ˆà¸¡à¸«à¸™à¸¶à¹ˆà¸‡à¹à¸à¹‰à¸§`;
        }
      }

      const resultEl = document.getElementById('dragonResult');
      resultEl.innerHTML = `<span>${resultText}</span><span class="result-thai">${resultThai}</span>`;
      resultEl.className = 'result-display ' + (win ? 'win' : 'lose');

      setDragonBtnsDisabled(true);
      gamePhase = 'result';
    }

    // ==================== éŠæˆ²4: åæ‡‰åŠ›æŒ‘æˆ° ====================
    let reactionState = 'idle';
    let reactionStartTime = 0;
    let reactionTimeout = null;
    let reactionBest = Infinity;
    let reactionTries = 0;

    function handleReactionClick() {
      const area = document.getElementById('reactionArea');

      if (reactionState === 'idle') {
        reactionState = 'waiting';
        area.className = 'reaction-area waiting';
        area.innerHTML = 'à¸£à¸­à¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§...<br>ç­‰å¾…ç¶ è‰²...<div class="thai">à¸­à¸¢à¹ˆà¸²à¹€à¸à¸´à¹ˆà¸‡à¸à¸”!</div>';

        const delay = 1000 + Math.random() * 4000;
        reactionTimeout = setTimeout(() => {
          reactionState = 'ready';
          reactionStartTime = Date.now();
          area.className = 'reaction-area ready';
          area.innerHTML = '';
        }, delay);

      } else if (reactionState === 'waiting') {
        clearTimeout(reactionTimeout);
        reactionState = 'idle';
        area.className = 'reaction-area';
        area.innerHTML = 'ğŸš« à¹€à¸£à¹‡à¸§à¹„à¸›! å¤ªæ—©äº†ï¼<br>à¸à¸”à¹ƒà¸«à¸¡à¹ˆ é»æ“Šé‡æ–°é–‹å§‹';

      } else if (reactionState === 'ready') {
        const reactionTime = Date.now() - reactionStartTime;
        reactionTries++;

        if (reactionTime < reactionBest) {
          reactionBest = reactionTime;
          document.getElementById('reactionBest').textContent = reactionBest + 'ms';
        }

        document.getElementById('reactionLast').textContent = reactionTime + 'ms';
        document.getElementById('reactionTries').textContent = reactionTries;

        reactionState = 'idle';
        area.className = 'reaction-area';

        let message = '';
        let msgThai = '';
        if (reactionTime < 200) { message = 'è¶…ç¥ï¼ğŸ”¥'; msgThai = 'à¹€à¸—à¸à¸¡à¸²à¸!'; }
        else if (reactionTime < 300) { message = 'å¾ˆå¿«ï¼âš¡'; msgThai = 'à¹€à¸£à¹‡à¸§à¸¡à¸²à¸!'; }
        else if (reactionTime < 400) { message = 'é‚„ä¸éŒ¯ ğŸ‘'; msgThai = 'à¸”à¸µà¹€à¸¥à¸¢!'; }
        else { message = 'å–å¤ªå¤šäº†å§ï¼ŸğŸº'; msgThai = 'à¹€à¸¡à¸²à¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¹ˆà¸²?'; }

        area.innerHTML = `<span style="font-size: 2.5rem; font-weight: 900">${reactionTime}ms</span><br>${message}<br><span class="thai">${msgThai}</span><br><small style="color: var(--text-muted)">é»æ“Šå†è©¦ä¸€æ¬¡ à¸à¸”à¹€à¸à¸·à¹ˆà¸­à¸¥à¸­à¸‡à¸­à¸µà¸</small>`;
      }
    }
  </script>

  <!-- Service Worker è¨»å†Š -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then((registration) => {
            console.log('âœ… Service Worker è¨»å†ŠæˆåŠŸ:', registration.scope);
          })
          .catch((error) => {
            console.error('âŒ Service Worker è¨»å†Šå¤±æ•—:', error);
          });
      });
    }
  </script>
</body>
</html>
